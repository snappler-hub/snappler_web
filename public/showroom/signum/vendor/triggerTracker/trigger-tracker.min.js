/* @preserve
 * Trigger Tracker (v.1.0.0)
 * by Michael G Collins (www.intervalia.com)
 * intervalia@gmail.com
 *
 * Copyright (c) 2013-2014 Michael G Collins
 * Licensed under the GNU GPL v3.0 license.
 *
 * NOTE: Requires jQuery framework (www.jquery.com)
 *  Tested with jQuery versions 1.7.0 to 1.11.1 and 2.0.0 to 2.1.1
 *
 */
!function(e,t,r){function n(e){if(e){var t=e.__originalMethod||e,r="";if(e){var n=/(function )+|(\r*\n)+\s*/g,i=t.toString().replace(n," ").split("{")[0].trim();return 0===i.split("(")[0].length&&(r=e.__functionName||"function "),r+i}}return typeof e}function i(t){var r=!v,n=t;if(r){"object"==typeof n&&(n=n.type);var i=e.triggerTrackerIncludeList;i&&i instanceof Array&&i.length>0&&(r=i.indexOf(n)>-1);var a=e.triggerTrackerExcludeList;r&&a&&a instanceof Array&&a.length>0&&(r=-1===a.indexOf(n))}return r}function a(e,t){for(var r=-1,n=[];++r<t;)n.push("arg"+r);if(e){var i=/\(([^)]+)/.exec(e);if(i&&i[1])for(t=(i=i[1].split(/\s*,\s*/)).length,r=0;t>r;r++)n[r]=i[r]||"arg"+r}return n}function o(e,t){return function(r){var o,g,l,c=i(r.type),s=++p+") Duration of handler",u=n(t),d=a(u,arguments.length);if(c){if(E.groupCollapsed("HANDLER: ("+r.type+") "+u),r.currentTarget===r.target?E.log("Target: ",r.currentTarget):(E.log("Current target: ",r.currentTarget),E.log("Original target: ",r.target)),E.log("Handler: ",t.__originalMethod||t),E.log("Params:"),E.log("  event: ",r),arguments.length>1)for(var f=1;f<arguments.length;f++)E.log("  "+d[f]+": ",arguments[f]);E.time(s)}else v||E.log("HANDLER: ("+r.type+") "+u);try{o=t.apply(e,arguments),c&&(o===!1?E.info("Returned false: "+m):(E.log("Returned: ",o),l=r.originalEvent,l&&(l.cancelBubble&&l.defaultPrevented?E.info(m):(l.cancelBubble&&E.info("Event propagation was stopped."),l.defaultPrevented&&E.info("Default action was prevented.")))))}catch(h){c&&E.error("Exception thrown in event handler: ",h),g=h}if(c&&(E.timeEnd(s),E.groupEnd()),--p,g)throw g;return o}}function g(){e.triggerTrackerIncludeList=[]}function l(t){e.triggerTrackerIncludeList=e.triggerTrackerIncludeList.concat(t)}function c(){e.triggerTrackerExcludeList=[]}function s(t){e.triggerTrackerExcludeList=e.triggerTrackerExcludeList.concat(t)}function u(){v=!0}function d(){v=!1}var f=!1,h=!0,p=0,v=!1,m="Event propagation was stopped and default action was prevented.",E=e.triggerTrackerConsole||t.console,y=e.fn.trigger,T=e.event.handlers,L=e.fn.on,x=0;e.fn.trigger=function(e){var t,r,a,o=++x+") Duration of trigger";t=this.length>0?this[0]._classNameForLogging||this.selector||this[0].mimeType||n(this[0]):this.selector||this.toString(),"object"==typeof t&&t._classNameForLogging&&(t=t._classNameForLogging);var g=i(e),l="object"==typeof e;g?(E.groupCollapsed("TRIGGER: ("+(l?e.type:e)+") "+t),E.log("Source: ",this),l&&E.log("Event: ",e),E.log("Caller: ",arguments.callee.caller),arguments.length>1&&(E.log("Params:"),E.dir(arguments[1])),E.time(o)):v||E.log("TRIGGER: ("+t+") ",l?e.type:e);try{r=y.apply(this,arguments)}catch(c){g&&E.error("Exception thrown in trigger call: ",c),a=c}if(g&&(E.timeEnd(o),E.groupEnd()),--x,a)throw a;return r},(h||f)&&(T?e.event.handlers=function(t,r){var n,i,a=T.call(this,t,r),g=[];for(n=0;n<a.length;n++){var l=e.extend({},a[n]),c=l.handlers;for(l.handlers=[],i=0;i<c.length;i++){var s=e.extend({},c[i]),u=s.handler;s.handler=o(this,u),s.handler.originalHandler=u,l.handlers.push(s)}g.push(l)}return g}:e.fn.on=function(e){var t,r,a,g,l,c=i(e);c&&f&&E.time("On time");var s;if(s=this.length>0?this[0]._classNameForLogging||this.selector||this[0].mimeType||n(this[0]):this.selector||this.toString(),c&&f&&(E.groupCollapsed("Setting event handler: ("+s+").on(",e,")"),E.log("Source Object: ",this),E.dir(arguments)),h&&!T)for(r=(a=[].slice.call(arguments)).length,t=0;r>t;t++)"function"==typeof a[t]&&(g=a[t],l=o(this,g),a[t]=l,l.guid=g.guid);var u=L.apply(this,a);return g&&(g.guid=l.guid),c&&f&&(E.timeEnd("On time"),E.groupEnd()),u}),g(),c(),t.ttrack={addExcludeEvent:s,addIncludeEvent:l,clearExcludeList:c,clearIncludeList:g,pause:u,resume:d},E!==r&&t.ttrackPoly&&ttrackPoly(E,n)}(jQuery,window);